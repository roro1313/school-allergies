<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="detail.css" />
    <link rel="stylesheet" href="../../assets/styles/global.css" />
    <title>Perfil de usuario</title>
  </head>
  <body class="background-image">
    <div class="card-lateral">
      <h2>Perfil de Usuario</h2>
      <img src="../../assets/img/mujer.png" alt="Foto de usuario" />

      <ul class="contact-info">
        <li><strong>Fecha de nacimiento:</strong> XXX</li>
        <li><strong>Clase / grupo:</strong> XXX</li>
        <li><strong>Contactos de emergencia:</strong></li>
        <li><strong>Teléfono 1:</strong> XXXX</li>
        <li><strong>Teléfono 2:</strong> XXX</li>
      </ul>
    </div>
    <div class="main-content">
      <!-- Table container -->
      <h3>Información alergia:</h3>
      <h3>Medicación</h3>

      <div id="tableContainer">
          <!-- Tables will be dynamically added here --> 
    </div>
    <!-- Este botón no hace falta, se accede al modal desde el botón + -->
    <!-- <button id="open-modal-button" onclick="openCreateAllergyModal()">AÑADIR ALERGIAS</button> -->

    <!-- Aquí va un modal para la creación de alergia -->
    <div id="modal-detail-create-allergy" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModalAllergies()">&times;</span>
        <h2>Añadir Alergia</h2>
        <form id="myForm">
          <label for="alergia">Alergia:</label>
          <input
            type="text"
            id="alergia"
            name="alergia"
            placeholder="Introduce la alergia"
            required
          />
          <label for="fecha">Fecha de diagnóstico:</label>
          <input
            type="text"
            id="fecha"
            name="fecha"
            placeholder="Introduce la fecha"
          />
          <label for="descripcion">Descripción:</label>
          <textarea
            id="descripcion"
            name="descripcion"
            placeholder="Introduce una descripción"
          ></textarea>
          <button type="submit">Crear alergia</button>
        </form>
      </div>
    </div>
    <!-- Aquí va un modal para la creación de crisis -->
    <!-- Para hacer esto funcionar, tienes que arreglar el detail y mostrar correctamente las alergias y crisis 
      de cada estudiante, como en detail.html de la rama backup -->
    <div id="modal-detail-create-crisis">
      <div class="modal-content">
        <span class="close" onclick="closeModalCrisis()">&times;</span>
        <h2>Añadir Episodios</h2>
        <form id="myForm">
          <label for="alergia">Alergia:</label>
          <input
            type="text"
            id="alergia"
            name="Crisis"
            placeholder="Introduce la crisis"
            required
          />
          <label for="fecha">Tipo de crisis:</label>
          <input
            type="text"
            id="fecha"
            name="fecha"
            placeholder="Introduce el tipo"
          /> <!-- Mírate como hacer un input de tipo fecha :) -->
          <label for="descripcion">Información adicional:</label>
          <textarea
            id="descripcion"
            name="descripcion"
            placeholder="Más info"
          ></textarea>
          <button type="submit">Crear crisis</button>
        </form>
      </div>
    </div>
    <!-- + Button with menu -->
    <button class="plus-menu" onclick="toggleMenu()">+</button>
    <ul class="speed-dial" id="speedDial">
        <li class="speed-dial-item" onclick="openCreateAllergyModal()">Crear alergia a este alumno</li>
        <li class="speed-dial-item" onclick="openCreateCrisisModal()">Crear crisis a este alumno</li>
    </ul>
    <script src="detail.js"></script>
  </body>
</html>
